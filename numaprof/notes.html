<!DOCTYPE html>
<html>
	<meta>
		<meta charset="utf-8">
		<title>numaprof - notes</title>

		<!-- JQuery -->
		<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
		<!-- Some google fonts -->
 		<link href='//fonts.googleapis.com/css?family=Corben:700' rel='stylesheet' type='text/css'/> 
		<link href="//fonts.googleapis.com/css?family=Maven+Pro:400,500,700,900" rel="stylesheet" type="text/css"/>
 		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/> 
		<!-- bootstrap for carousel --> 
		<link href='bower_components/bootstrap/dist/css/bootstrap.min.css' rel='stylesheet' type='text/css'/>
		<script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<!-- Menu & style -->
		<script type="text/javascript" src="js/menu.js"></script>
		<link rel="stylesheet" type="text/css" href="style.css"/>
		<link rel="icon" type="image/png" href="images/ico.png">
	</meta>
	<body>
		<div class="navbar">
			<div>
				<h1 class='title'>NUMAPROF</h1>
				<ul class='nav'></ul>
			</div>
		</div>
		
		<div class='feature-image'>	
			<!-- From http://www.icone-png.com/site-web/prise-note/ -->
			<img src='images/notes-logo.png' style="margin-top:30px;margin-bottom:30px;height:180px;"/>
		</div>
		
		<div class="note">
			<h3 id='origin'>Note about origin</h3>
			<p class='meta'>By Sébastien Valat - Jan 7, 2018</p>
			<p>NUMAPROF was developed during my postdoc 
			at CERN in 2017 following a nice discussion with Othman Bouizi, a research engineer from Exascale Comping Research Lab. It takes back some ideas of the memory profiling tool (MALT) 
			I developed during my previous postdoc at the Exascale Comping Research Lab. During my PhD. I was implemnting a parallel and NUMA aware memory allocator for the MPC framework, and during this period I would have been really happy to have such a tool to check if I made the thing right. The main parts of the tool has been built in two months of work mostly on my free time.
			
			<p>With this project with Othman we wanted to get some answers to the questions :
			<ul>
				<li>"<i>I'm porting my parallel application on a NUMA architecture, do I make remote memory accesses ?</i>"</li>
				<li>"<i>Which allocations are related to my remote accesses ?</i>"</li> 
				<li>"<i>Do I have unpinned memory accesses meaning the page or the thread is not strictly pinned ?</i>"</li> 
				<li>"<i>On an Intel Knight Landing, do I make MCDRAM accesses where I expect ?</i>"</li> 
			</ul>
			NUMAPROF was developed to answer all these questions. It uses pintool to instrument the binary on the fly and intercept all the memory accesses an check if they are remote, local, mcdram or unpinned.</p>
		</div>
		<div class="note">
			<h3 id="talks">Talks</h3>
			<!--<p class='meta'>Dec. 2017</p>-->
			<ul>
				<li>
					08/2018 -
					<b><a href='downloads/2018-08-nuaprof-europar-coloc-slides.pdf'>NUMAPROF, A NUMA Profiler</a> <!--[<a href='downloads/2018-09-numaprof-eurpar-coloc-paper.pdf'>paper</a>|<a href='downloads/2018-08-nuaprof-europar-coloc-slides.pdf'>Slides</a>]--></b><br/>
					<a href='https://project.inria.fr/coloc/'>Europar/Coloc 2018</a> - Turin
				</li>
				<li>
					03/2018 -
					<b><a href='downloads/2018-03-MALT-CERN-IT.pdf'>MALT, A Malloc Tracker</a></b><br/>
					CERN IT - Meyrin
				</li>
				<li>
					03/2018 -
					<b><a href='downloads/2018-03-nuaprof.pdf'>NUMAPROF, a NUMA profiling tool</a></b><br/>
					CERN IT - Meyrin
				</li>
				<li>
					02/2018 -
					<b><a href='downloads/2018-03-nuaprof.pdf'>NUMAPROF, a NUMA profiling tool</a></b><br/>
					<a href='http://inhpact.hpcframework.paratools.com/'>InHP@CT</a> teratech meeting - Bruyère-le-chatel
				</li>
			</ul>
		</div>
		<div class="note">
			<h3 id="understand">You want to understand what append ?</h3>
			<p class='meta'>By Sébastien Valat - Sept 28, 2015</p>
			<p>
			If ever you want to understand a little bit more what append inside a memory allocator on NUMA nodes, you can follow some of those links :
			<ul>
				<li>A really complete tour of how memory work (from hardware to software with OS layers) : <a href="http://www.akkadia.org/drepper/cpumemory.pdf">What Every Programmer Should Know About Memory</a> from Urlich Drepper</li>
				<li>Small advertising, my PhD. thesis, if you search some HPC specific information on memory management (NUMA, parallel, operating systems...), in french sorry : <a href='./downloads/2014-valat-pdh-theses.pdf'>Contribution à l'amélioration des méthodes d'optimisation de la gestion de la mémoire dans le cadre du Calcul Haute Performance</a>. But you can find my PhD. defense <a href='./downloads/2014-valat-phd-defense-slides.pdf'>slides here</a>, in English.</li>
			</ul>
			</p>
		</div>
		<div class="note">
			<h3 id="bib">Similar papers and tools</h3>

			<p>If you want to search knowledge used to build this tool you can refer to the bibliography file into the source code : <b><a target="_blank" href="https://github.com/memtt/numaprof/blob/master/doc/bibliography.md">doc/bibliography.md</a></b>,
			it contains all the required links to papers, slides, tools, libs, manpages. Fill free to contribute.</p>

			<p>Here the main tools similar to NUMAPROF and available: </p>

			<ul>
				<li>
					<b>Numatop</b></br>
					Source code : <a href='https://github.com/intel/numatop'>Intel Github</a>
				</li>
				<li>
					<b>HPCToolkit</b></br>
					Paper : <a href='https://doi.org/10.1145/2555243.2555271'>A tool to analyze the performance of multithreaded programs on NUMA architectures</a> - PPoPP'14<br/>
					Source code: <a href='https://github.com/HPCToolkit/hpctoolkit'>GitHub/HPCToolkit/hpctoolkit</a> (branch hpctoolkit-datacentric).
				</li>
				<li>
					<b>Tabarnac</b><br/>
					Paper : <a href='https://doi.org/10.1145/2835238.2835239'>TABARNAC: visualizing and resolving memory access issues on NUMA architectures
</a> - VPA'15</br>
					Report : <a href='https://hal.inria.fr/hal-01202105'>TABARNAC: Tools for Analyzing Behavior of Applications Running on NUMA Architecture.</a><br/>
					Source code: <a href='https://gitlab.com/dbeniamine/Tabarnac'>Gitlab/dbeniamine/Tabarnac</a>
				</li>
				<li>
					<b>NumaMMA</b><br/>
					Paper: <a href='https://doi.org/10.1145/3225058.3225094'>NumaMMA: NUMA MeMory Analyzer</a><br/>
					Github: <a href='https://github.com/numamma/numamma'>https://github.com/numamma/numamma</a>
				</li>
			</ul>
			<p>Papers on tools which I didn't found sources on the web : </p>
			<ul>
				<li>
					<b>MemProf</b><br/>
					Paper: <a href='https://www.usenix.org/system/files/conference/atc12/atc12-final229.pdf'>MemProf: a Memory Profiler for NUMA Multicore Systems</a> - Usenix ATC'12
				</li>
				<li><b>Snperf</b><br/>
					<a href='http://www.cs.utah.edu/~uros/thesis/thesis.pdf'>Thesis</a> - Uros Prestor<br/>
					Paper: <a href='https://doi.org/10.1109/WWC.2001.990749'>An application-centric ccNUMA memory profiler</a> - WWWC'4
				</li>
				<li>
					<b>Numagrind</b><br/>
					Paper: <a href='https://ieeexplore.ieee.org/document/6012912/'>Profiling Directed NUMA Optimization on Linux Systems: A Case Study of the Gaussian Computational Chemistry Code</a> - IPDPS'2011
				</li>
				<li>
					<b>Memphis</b><br/>
					Paper: <a href='https://doi.org/10.1109/ISPASS.2010.5452060'>Memphis: Finding and fixing NUMA-related performance problems on multi-core platforms</a> - ISPASS 2010
				</li>
				<li>
					<b>SIMT</b><br/>
					Paper: <a href='https://doi.org/10.1007/978-3-540-31832-3_5'>SIMT/OMP: A Toolset to Study and Exploit Memory Locality of OpenMP Applications on NUMA Architectures</a> - WOMPAT 2014
				</li>
				<li>
					<b>Memaxis</b><br/>
					Paper: <a href='https://doi.org/10.1007/978-3-319-16012-2_10'>A Flexible Data Model to Support Multi-domain Performance Analysis</a> -  Tools for High Performance Computing 2014
				</li>
				<li>
					<i>Another</i> <b>NUMAPROF</b> <i>(Named only in the paper, not available....)</i><br/>
					Paper: <a href='https://link.springer.com/chapter/10.1007/978-3-319-27140-8_6'>A Data-Centric Tool to Improve the Performance of Multithreaded Program on NUMA</a>
				</li>
			</ul>

			<p>If you want <b>more bibliography</b> on the topic you can find all our cited articles <b><a href='biblio.html'>here</a></b></p>
		</div>
		<!--<div class="note">
			<h3>Contributors:</h3>
			<ul>
				<li><a href='https://svalat.github.io/' target='_bkank'>Sébastien Valat</a> (CERN 2017-2018)</a></li>
				<li>Original fondating discussion with Othamn Bouizi</li>
			</ul>			
		</div>-->
		<div class='footer'>
			<div>
				Copyright © 2018 NUMAPROF. 
				<!--All right reserved. Theme from <a href='http://indico-software.org/'>Indico website</a>-->
			</div>
			<div>
				<a href='http://www.github.com/memtt/numaprof' class="no-decoration">
					<i class="fa fa-github fa-lg"></i>
				</a>
			</div>
		</div>
	</body>
</html>
